<div class="text-center table-child-heading-2">
  <span class="center-text sub-heading-text-2 service-limit-label custom text-color"  [hidden]="!showNetWorkError">
    <app-network-message></app-network-message>
  </span>
</div>
<div class="customer-phone" [hidden]="showNetWorkError">
  
  <div class="custom-phone-card" id="customer-data-container">
    <!-- INITIAL AND EDIT PHONE SECTION -->
    <div class="phone-num-text custom text-color"> {{'customer_info.phoneNumber' | translate}} </div>
    <div class="customer-phone__number-container">
      <div class="phone-num">
        <div class="phone-container-icon">
          <svg class="phone-icon" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24">
            <path fill-opacity=".87" fill-rule="evenodd"
              d="M7.576 11.005c1.184 2.327 3.092 4.226 5.419 5.419l1.809-1.81c.222-.221.55-.295.838-.197.921.305 1.916.469 2.936.469.452 0 .822.37.822.822v2.87c0 .452-.37.822-.822.822C10.858 19.4 4.6 13.143 4.6 5.422c0-.452.37-.822.822-.822H8.3c.452 0 .822.37.822.822 0 1.028.165 2.015.469 2.936.09.287.025.608-.206.838l-1.809 1.81z" />
          </svg>
        </div>
        <div class="phone-num-input-container">
          <input class="phone-num-input" type="text" placeholder="  {{'customer_info.phone_placeholder' | translate}}"
            [(ngModel)]="phoneNumber" (change)="onPhoneNumberChanged()" (keyup.enter)="phoneNumContinue()"
            (focusin)="phoneNumberFeildFocused()" (focusout)="phoneNumberFeildUnfocused()"
            (keyup)="onPhoneNumberEnter($event)" *ngIf="!seperateCountryCode">

            <!-- <input type="text" class="phone-num-input_"
              ng2TelInput
              [ng2TelInputOptions]="{initialCountry: 'lk'}"
              (intlTelInputObject)="telInputObject($event)"
              (hasError)="hasError($event)"
              (ng2TelOutput)="getNumber($event)"
              (keydown.enter)="submitByKey($event);$event.target.blur()"
              (keyup)="onPhoneNumberChanged()"
              (countryChange)="onCountryChange($event)"
              *ngIf="seperateCountryCode"
              [(ngModel)]="phoneNumber"/> -->

              <form #f1="ngForm" [formGroup]="phoneForm">
                <ngx-intl-tel-input *ngIf="seperateCountryCode"
                  class="phone-num-input_" id="phoneNum"
                  [preferredCountries]="prefferedCountryCodeList"
                  [enableAutoCountrySelect]="false" 
                  [enablePlaceholder]="true" 
                  [searchCountryFlag]="true"
                  [searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]"
                  [selectFirstCountry]="true" 
                  [selectedCountryISO]="selectedCountryISO"
                  [maxLength]="15"  
                  [phoneValidation]="true" 
                  [separateDialCode]="true"
                  [(ngModel)]="phoneNumberObject"
                  (keyup.enter)="phoneNumContinue()"
                  (click) = "dropDownClicked()"
                  (keyup)="onPhoneNumberEnter($event)"
                  name="phone" formControlName="phone">
                </ngx-intl-tel-input>
            </form>
          <!-- <div class="phone-num-display"> {{phoneNumber}}
          </div> -->
          <div class="phone-num-error" [ngStyle]="{'margin': '0px -15px' }" *ngIf="phoneNumberError"> {{'otp.phoneNumberError' | translate}}</div>
        </div>
      </div>
    </div>
    <!-- BOTTOM SECTION -->
    <div class="phone-num-bottom-section">
      <!-- INITIAL BOTTOM SECTION -->
      <div>
        <div class="phone-num-bottom-initial-topic">
          {{'otp.phoneInfoTitle' | translate}}
        </div>
        <hr class="phone-devider">
        <div class="phone-num-points-container">
          <div class="phone-num-points-text">
            {{'otp.firstAdvantageByEnteringOtpPhone' | translate}}
          </div>
        </div>
      </div>
    </div>
    <div *ngIf="showLoader" style="display: flex;">
      <div class="row width-control">
        <div class="loader-container">
          <div class="inline-block-elem left-cell" style="margin-left: 10px;">
            <svg class="loader" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 51.35 51.35"><defs><style>.cls-1{opacity:0.15;}.cls-10,.cls-2,.cls-8,.cls-9{fill:#fff;}.cls-3{opacity:0.2;}.cls-4{opacity:0.25;}.cls-5{opacity:0.3;}.cls-6{opacity:0.4;}.cls-7{opacity:0.5;}.cls-8{opacity:0.6;}.cls-9{opacity:0.7;}.cls-10{opacity:0.8;}.cls-11{opacity:0.85;}.cls-12{opacity:0.9;}</style></defs><title>LoadingSpinner</title><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><g class="cls-1"><circle class="cls-2" cx="36.76" cy="6.47" r="3.5" transform="translate(12.78 35.07) rotate(-60)"/></g><g class="cls-3"><circle class="cls-2" cx="44.88" cy="14.59" r="3.5" transform="matrix(0.87, -0.5, 0.5, 0.87, -1.28, 24.39)"/></g><g class="cls-4"><circle class="cls-2" cx="47.85" cy="25.67" r="3.5"/></g><g class="cls-5"><circle class="cls-2" cx="44.88" cy="36.76" r="3.5" transform="translate(-9.4 57.25) rotate(-60)"/></g><g class="cls-6"><circle class="cls-2" cx="36.76" cy="44.88" r="3.5" transform="translate(-17.51 24.39) rotate(-30)"/></g><g class="cls-7"><circle class="cls-2" cx="25.67" cy="47.85" r="3.5"/></g><circle class="cls-8" cx="14.59" cy="44.88" r="3.5" transform="translate(-31.57 35.07) rotate(-60)"/><circle class="cls-9" cx="6.47" cy="36.76" r="3.5" transform="matrix(0.87, -0.5, 0.5, 0.87, -17.51, 8.16)"/><circle class="cls-10" cx="3.5" cy="25.67" r="3.5"/><g class="cls-11"><circle class="cls-2" cx="6.47" cy="14.59" r="3.5" transform="translate(-9.4 12.9) rotate(-60)"/></g><g class="cls-12"><circle class="cls-2" cx="14.59" cy="6.47" r="3.5" transform="translate(-1.28 8.16) rotate(-30)"/></g><circle class="cls-2" cx="25.67" cy="3.5" r="3.5"/></g></g></svg>
          </div>
          <div class="inline-block-elem right-cell" style="margin-top: 20px;">
            <span id="branchLoading" class="sub-heading-text-3 custom text-color">{{ 'branch.loading' | translate }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="!showLoader" class="table-child-footer">
    <footer class="qm-footer">
      <div class="center-text">
        <!-- (click)="seperateCountryCode? submitByBtn($event):phoneNumContinue() -->
        <div
          class="send_button custom btn-text-color accent-bg-color" [class.disabled]="true" (click)="phoneNumContinue()">
          {{'otp.getOTP' | translate}} 
        </div>
      </div>
    </footer>
  </div>
  
</div>